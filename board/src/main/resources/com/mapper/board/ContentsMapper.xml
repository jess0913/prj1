<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.board.dao.ContentsDao">
	
	<select id="getContentsList" resultType="hashMap">
		<![CDATA[
			SELECT contentsId
			     , fileName
			     , fileUrl
			     , createDate
			     , createUser
			     , updateDate
			     , updateUser
			     , description
			     , contentsName
			  FROM admin.contents
			 ORDER BY contentsId DESC
		]]>
	</select>
	
	<insert id="insertContents" parameterType="hashMap">
		<![CDATA[
			INSERT INTO admin.contents 
			( 
				   contentsId
			     , fileName
			     , fileUrl
			     , createDate
			     , createUser
			     , updateDate
			     , updateUser
			     , description
			     , contentsName
			)
			VALUES 
			(	
				  contentsId_seq.nextval 
				, #{fileName}
				, #{fileUrl}
				, SYSDATE
				, #{createUser}
				, SYSDATE
				, #{createUser}
				, #{description}
				, #{contentsName}
			)
		]]>
	</insert>
	
	<update id="updateContents" parameterType="hashMap">
		<![CDATA[
			UPDATE admin.contents
			SET 
				description   = #{description}
			  , contentsName  = #{contentsName}
			  , fileName  	  = #{fileName}
			  , fileUrl  	  = #{fileUrl}
			  , updateDate    = SYSDATE
			  , updateUser    = #{createUser}
			WHERE contentsId = #{contentsId}
		]]>
	</update>
	
	<select id="getAdminContentsList" resultType="hashMap">
		<![CDATA[
			SELECT contentsId			AS id  
			     , fileName             AS fileName    
			     , fileUrl              AS fileUrl     
			     , createDate           AS createDate  
			     , createUser           AS createUser  
			     , updateDate           AS updateDate  
			     , updateUser           AS updateUser  
			     , description          AS description 
			     , contentsName         AS title
			  FROM admin.contents
			 ORDER BY id DESC
		]]>
	</select>
</mapper>